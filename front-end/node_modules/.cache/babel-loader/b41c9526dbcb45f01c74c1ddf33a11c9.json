{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ashleyxu/Desktop/vacationHacker/front-end/src/components/pages/profile.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { ButtonGroup, Button, Row, Container, Col } from 'react-bootstrap';\nimport { SampleFlights1 } from './sampleflights1';\nimport { SampleFlights2 } from './sampleflights2';\nimport './profile.css';\nconst base_url = 'http://localhost3001/'; //change this\n\nexport class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.delete = e => {\n      //------------for testing use------------\n      this.setState({\n        savedflights: SampleFlights2,\n        totalCost: '9800USD'\n      }); //------------for testing use------------\n\n      e.preventDefault();\n      const {\n        savedflights\n      } = this.state;\n      Axios.post(base_url + 'users/delete', {\n        //// change this\n        'savedflights': savedflights\n      }).then(response => {\n        if (response.data.message) {\n          console.log(response.data.message);\n        } else {\n          console.log(response);\n        }\n      });\n    };\n\n    this.state = {\n      isLoggedIn: localStorage.getItem('userID') ? true : false,\n      userID: '',\n      savedflights: null,\n      saved: null,\n      totalCost: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      userID: localStorage.getItem('userID')\n    });\n    this.setState({\n      saved: localStorage.getItem('saved')\n    }); //------------for testing use------------------\n\n    this.setState({\n      savedflights: SampleFlights1,\n      totalCost: '14800USD'\n    }); //------------for testing use------------------\n\n    if (this.state.userID) {\n      Axios.post(base_url + '/profile', {\n        //change this\n        'userID': `${localStorage.getItem('userID')}`\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          savedflights: response.data[0],\n          totalCost: response.data[1]\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    const {\n      userID,\n      homeAirport\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profiledisplay\",\n        children: [this.state.savedflights && this.state.userID && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"User: \", this.state.userID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Saved flights: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 70\n        }, this), this.state.saved && this.state.savedflights && this.state.userID && this.state.savedflights.map((flight, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flight\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"Flight \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"From: \", flight.ForeignAirport]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"To: \", flight.ChineseAirport]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Airline: \", flight.Airline]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"FlightNo: \", flight.FlightNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Weekday: \", flight.Weekday]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Price starting at: \", flight.Price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Booking Website: \", flight.Website]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-primary\",\n                  onClick: this.delete,\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"far fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 100\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this);\n        }), this.state.userID && !this.state.savedflights && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"profileusername\",\n            children: [\"User: \", this.state.userID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You have no flights saved!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 71\n        }, this), !this.state.userID && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Log In to view your profile!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 44\n        }, this), this.state.totalCost && this.state.userID && this.state.savedflights && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totalcost\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Total Cost : \", this.state.totalCost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 94\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/ashleyxu/Desktop/vacationHacker/front-end/src/components/pages/profile.js"],"names":["React","Axios","ButtonGroup","Button","Row","Container","Col","SampleFlights1","SampleFlights2","base_url","Profile","Component","constructor","props","delete","e","setState","savedflights","totalCost","preventDefault","state","post","then","response","data","message","console","log","isLoggedIn","localStorage","getItem","userID","saved","componentDidMount","catch","error","render","homeAirport","map","flight","index","ForeignAirport","ChineseAirport","Airline","FlightNumber","Weekday","Price","Website"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Axios from 'axios'\nimport { ButtonGroup, Button, Row, Container, Col} from 'react-bootstrap';\nimport { SampleFlights1 } from './sampleflights1';\nimport { SampleFlights2 } from './sampleflights2';\nimport './profile.css'\n\nconst base_url = 'http://localhost3001/'                               //change this\n\nexport class Profile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state ={\n            isLoggedIn : localStorage.getItem('userID') ? true : false,\n            userID : '',\n            savedflights : null,\n            saved: null,\n            totalCost: ''\n        }\n    }\n    \n    componentDidMount() {\n        this.setState({userID: localStorage.getItem('userID')});\n        this.setState({saved: localStorage.getItem('saved')});\n        //------------for testing use------------------\n        this.setState({\n            savedflights: SampleFlights1,\n            totalCost: '14800USD'\n        });\n        //------------for testing use------------------\n        if (this.state.userID) {\n            Axios.post(base_url + '/profile', {                         //change this\n                'userID' : `${localStorage.getItem('userID')}`,\n            }).then(response => {\n                console.log(response)\n                this.setState({\n                    savedflights : response.data[0],\n                    totalCost: response.data[1]\n                })\n            }).catch(error=> {\n                console.log(error)\n            })\n        }\n    }\n    delete = e => {\n        //------------for testing use------------\n        this.setState({\n            savedflights: SampleFlights2,\n            totalCost: '9800USD'\n        })\n        //------------for testing use------------\n        e.preventDefault()\n        const {savedflights} = this.state\n        Axios.post(base_url + 'users/delete', {                              //// change this\n            'savedflights': savedflights\n        }).then((response)=> {\n            if (response.data.message){\n              console.log(response.data.message)\n            } else {\n                console.log(response);\n            }\n        });  \n    }\n\n    render() {\n        const {userID, homeAirport} = this.state;\n\n        return (\n            <div className='profile-container'>\n                <div className='profiledisplay'>\n                    {this.state.savedflights && this.state.userID && <div>\n                        <h1>User: {this.state.userID}</h1>\n    \n                        <h2>Saved flights: </h2>\n                        </div>\n                    }\n                    {this.state.saved && this.state.savedflights && this.state.userID && this.state.savedflights.map((flight, index)=> {\n                        return (\n                            <div className=\"flight\" key={index}>\n                                <div className='card'>\n                                    <h3>Flight {index+1}</h3>\n                                    <div className='details'>\n                                        <p>From: {flight.ForeignAirport}</p>\n                                        <p>To: {flight.ChineseAirport}</p>\n                                        <p>Airline: {flight.Airline}</p>\n                                        <p>FlightNo: {flight.FlightNumber}</p>\n                                        <p>Weekday: {flight.Weekday}</p>\n                                        <p>Price starting at: {flight.Price}</p>\n                                        <p>Booking Website: {flight.Website}</p>\n                                        <Button variant=\"outline-primary\" onClick = {this.delete} ><i class=\"far fa-trash-alt\"></i></Button>\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                    {this.state.userID && !this.state.savedflights && <div className='hint'>\n                        <h1 className='profileusername'>User: {this.state.userID}</h1>\n                        <p>You have no flights saved!</p></div>}\n                    {!this.state.userID && <div className='hint'><p>Log In to view your profile!</p></div>}\n                    {this.state.totalCost && this.state.userID && this.state.savedflights && <div className='totalcost'>\n                        <h2>Total Cost : {this.state.totalCost}</h2>\n                        </div>}\n                </div>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}