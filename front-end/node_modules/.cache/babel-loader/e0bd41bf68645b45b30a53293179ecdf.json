{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ashleyxu/Desktop/vacationHacker/front-end/src/components/pages/profile.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { ButtonGroup, Button, Row, Container, Col } from 'react-bootstrap';\nimport { SampleFlights1 } from './sampleflights1';\nimport { SampleFlights2 } from './sampleflights2';\nconst base_url = 'http://localhost3001/'; //change this\n\nexport class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.delete = e => {\n      e.preventDefault();\n      const {\n        savedflights\n      } = this.state;\n      Axios.post(base_url + 'users/delete', {\n        //// change this\n        'savedflights': savedflights\n      }).then(response => {\n        if (response.data.message) {\n          console.log(response.data.message);\n        } else {\n          console.log(response);\n        }\n      });\n    };\n\n    this.state = {\n      isLoggedIn: localStorage.getItem('userID') ? true : false,\n      userID: '',\n      savedflights: null,\n      totalCost: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      userID: localStorage.getItem('userID')\n    }); //------------for testing use------------------\n\n    this.setState({\n      savedflights: SampleFlights1,\n      totalCost: '14800USD'\n    }); //------------for testing use------------------\n\n    if (this.state.userID) {\n      Axios.post(base_url + '/profile', {\n        //change this\n        'userID': `${localStorage.getItem('userID')}`\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          savedflights: response.data[0],\n          totalCost: response.data[1]\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    const {\n      userID,\n      homeAirport\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profiledisplay\",\n        children: [this.state.savedflights && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"User: \", this.state.userID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Saved flights: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 49\n        }, this), this.state.savedflights && this.state.savedflights.map((flight, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flight\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Flight \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"From: \", flight.ForeignAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"To: \", flight.ChineseAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Airline: \", flight.Airline]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"FlightNo: \", flight.FlightNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Weekday: \", flight.Weekday]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Price starting at: \", flight.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Booking Website: \", flight.Website]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                onClick: this.save,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"far fa-trash-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 94\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this);\n        }), this.state.userID && !this.state.savedflights && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"profileusername\",\n            children: [\"User: \", this.state.userID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You have no flights saved!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 71\n        }, this), !this.state.userID && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Log In to view your profile!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 66\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 44\n        }, this), this.state.totalCost && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totalcost\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Total Cost : \", this.state.totalCost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/ashleyxu/Desktop/vacationHacker/front-end/src/components/pages/profile.js"],"names":["React","Axios","ButtonGroup","Button","Row","Container","Col","SampleFlights1","SampleFlights2","base_url","Profile","Component","constructor","props","delete","e","preventDefault","savedflights","state","post","then","response","data","message","console","log","isLoggedIn","localStorage","getItem","userID","totalCost","componentDidMount","setState","catch","error","render","homeAirport","map","flight","index","ForeignAirport","ChineseAirport","Airline","FlightNumber","Weekday","price","Website","save"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Axios from 'axios'\nimport { ButtonGroup, Button, Row, Container, Col} from 'react-bootstrap';\nimport { SampleFlights1 } from './sampleflights1';\nimport { SampleFlights2 } from './sampleflights2';\n\nconst base_url = 'http://localhost3001/'                               //change this\n\nexport class Profile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state ={\n            isLoggedIn : localStorage.getItem('userID') ? true : false,\n            userID : '',\n            savedflights : null,\n            totalCost: ''\n        }\n    }\n    \n    componentDidMount() {\n        this.setState({userID: localStorage.getItem('userID')});\n        //------------for testing use------------------\n        this.setState({\n            savedflights: SampleFlights1,\n            totalCost: '14800USD'\n        });\n        //------------for testing use------------------\n        if (this.state.userID) {\n            Axios.post(base_url + '/profile', {                         //change this\n                'userID' : `${localStorage.getItem('userID')}`,\n            }).then(response => {\n                console.log(response)\n                this.setState({\n                    savedflights : response.data[0],\n                    totalCost: response.data[1]\n                })\n            }).catch(error=> {\n                console.log(error)\n            })\n        }\n    }\n    delete = e => {\n        e.preventDefault()\n        const {savedflights} = this.state\n        Axios.post(base_url + 'users/delete', {                              //// change this\n            'savedflights': savedflights\n        }).then((response)=> {\n            if (response.data.message){\n              console.log(response.data.message)\n            } else {\n                console.log(response);\n            }\n        });  \n    }\n\n    render() {\n        const {userID, homeAirport} = this.state;\n\n        return (\n            <div className='profile-container'>\n                <div className='profiledisplay'>\n                    {this.state.savedflights && <div>\n                        <h1>User: {this.state.userID}</h1>\n                        <h1> </h1>\n                        <h2>Saved flights: </h2>\n                        </div>\n                    }\n                    {this.state.savedflights && this.state.savedflights.map((flight, index)=> {\n                        return (\n                            <div className=\"flight\" key={index}>\n                                <h3>Flight {index+1}</h3>\n                                <div className='details'>\n                                    <p>From: {flight.ForeignAirport}</p>\n                                    <p>To: {flight.ChineseAirport}</p>\n                                    <p>Airline: {flight.Airline}</p>\n                                    <p>FlightNo: {flight.FlightNumber}</p>\n                                    <p>Weekday: {flight.Weekday}</p>\n                                    <p>Price starting at: {flight.price}</p>\n                                    <p>Booking Website: {flight.Website}</p>\n                                    <Button variant=\"outline-primary\" onClick = {this.save} ><i class=\"far fa-trash-alt\"></i></Button>\n                                </div>\n                            </div>\n                        );\n                    })}\n                    {this.state.userID && !this.state.savedflights && <div className='hint'>\n                        <h1 className='profileusername'>User: {this.state.userID}</h1>\n                        <p>You have no flights saved!</p></div>}\n                    {!this.state.userID && <div className='hint'><p>Log In to view your profile!</p></div>}\n                    {this.state.totalCost && <div className='totalcost'>\n                        <h2>Total Cost : {this.state.totalCost}</h2>\n                        </div>}\n                </div>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}